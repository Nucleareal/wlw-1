var d=document;if(d.getElementById('wlw_custom')==null){var p1=d.querySelectorAll('.block_playdata_01_text');var ur=parseFloat(p1[0].innerHTML);var wc=parseInt(p1[1].innerHTML);var crc=parseInt(p1[2].innerHTML);var wdc=parseInt(p1[3].innerHTML);var p2=d.querySelectorAll('.block_playdata_02_text');var tp=parseFloat(p2[0].innerHTML);var wp=parseFloat(p2[1].innerHTML);var lp=parseFloat(p2[2].innerHTML);var tn=parseFloat(p2[3].innerHTML);var wn=parseFloat(p2[4].innerHTML);var ln=parseFloat(p2[5].innerHTML);var lc=0;if((tp-lp)!=0){lc=parseInt(Math.round((wp-tp)*wc/(tp-lp)))}var wr=0;if((wc+lc)!=0){wr=Math.round(wc/(wc+lc)*100*10)/10}var kr=0;if(wdc!=0){kr=Math.round(crc/wdc*100)/100}var awr=0;var awc=0;var alc=0;var cdata=[{id:0,name:"サンドリヨン",wr:0,wc:0,lc:0},{id:32,name:"アシェンプテル",wr:0,wc:0,lc:0},{id:1,name:"吉備津彦",wr:0,wc:0,lc:0},{id:9,name:"美猴",wr:0,wc:0,lc:0},{id:2,name:"ピーター・ザ・キッド",wr:0,wc:0,lc:0},{id:11,name:"シレネッタ",wr:0,wc:0,lc:0},{id:13,name:"ミクサ",wr:0,wc:0,lc:0},{id:3,name:"リトル・アリス",wr:0,wc:0,lc:0},{id:7,name:"アイアン・フック",wr:0,wc:0,lc:0}];var q=window.location.search.substring(1);var ci=q.split("=")[1];var pci="p"+ci;var now=new Date().getTime();var cd=[now,ur,wc,lc,wr,crc,wdc,kr,tp,wp,lp,tn,wn,ln];var pcd=[0,0,0,0,0,0,0,0,0,0,0,0,0,0];var ppcd=pcd.concat();var day=1000*3600*24;var ex=new Date();ex.setTime(now+day*365);if(d.cookie){var c=d.cookie.split(";");for(var i=0;i<c.length;i++){var kv=c[i].trim().split("=");var tpcd=unescape(kv[1]).split(":");if(isFinite(kv[0])){var twc=parseInt(tpcd[2]);var tlc=parseInt(tpcd[3]);var twr=0;if((twc+tlc)!=0){twr=Math.round(twc/(twc+tlc)*100*10)/10}awc+=twc;alc+=tlc;for(var i=0;i<cdata.length;i++){if(kv[0]==cdata[i]["id"]){cdata[i]["wr"]=twr;cdata[i]["wc"]=twc;cdata[i]["lc"]=tlc;break}}}if(kv[0]==ci){pcd=tpcd}if(kv[0]==pci){ppcd=unescape(kv[1]).split(":")}}}awc=awc-parseInt(pcd[2])+wc;alc=alc-parseInt(pcd[3])+lc;if((awc+alc)!=0){awr=Math.round(awc/(awc+alc)*100*10)/10}for(var i=0;i<cdata.length;i++){if(ci==cdata[i]["id"]){cdata[i]["wr"]=wr;cdata[i]["wc"]=wc;cdata[i]["lc"]=lc;break}}cdata.sort(function(a,b){return(a["wc"]+a["lc"])<(b["wc"]+b["lc"])});if(cd[1]!=pcd[1]||cd[2]!=pcd[2]||cd[8]!=pcd[8]||cd[9]!=pcd[9]||cd[10]!=pcd[10]){d.cookie=ci+"="+escape(cd.join(":"))+"; expires="+ex.toUTCString()}var base=new Date();base.setTime(pcd[0]);base.setHours(23);base.setMinutes(59);base.setSeconds(59);if(now>base.getTime()){d.cookie=pci+"="+escape(pcd.join(":"))+"; expires="+ex.toUTCString()}else{pcd=ppcd}var fi=d.querySelector('.frame_inner');var nfi=fi.cloneNode(true);nfi.id="wlw_custom";var p=nfi.querySelectorAll('.clearfix');function insert(i,t1,t2){var e=p[0].cloneNode(true);var t=e.getElementsByTagName('div');t[0].innerHTML=t1;t[1].innerHTML=t2;nfi.insertBefore(e,p[i])}insert(2,"敗北数",lc+"<span class=\"font_small\">敗</span>");insert(2,"勝率",wr+"%");insert(4,"Kill Ratio",kr);function diff(i,t){var iad=Math.round((cd[i]-pcd[i])*100)/100;var pm="±";if(iad>0){pm="+"}if(iad<0){pm="−";iad=Math.abs(iad)}t.innerHTML=t.innerHTML+" <span style=\"color:#ff0000;\" class=\"font_small\">("+pm+iad+")</span>"}var np1=nfi.querySelectorAll('.block_playdata_01_text');for(var i=0;i<7;i++){diff(i+1,np1[i])}var np2=nfi.querySelectorAll('.block_playdata_02_text');for(var i=0;i<6;i++){diff(i+8,np2[i])}insert(6,"全キャスト勝率",awr+"% <span class=\"font_small\">("+awc+"勝"+alc+"敗)</span>");for(var i=0;i<cdata.length;i++){if((cdata[i]["wc"]+cdata[i]["lc"])>0){insert(6,"<span class=\"font_90\">"+cdata[i]["name"]+"</span>",cdata[i]["wr"]+"% <span class=\"font_small\">("+cdata[i]["wc"]+"勝"+cdata[i]["lc"]+"敗)</span>")}}fi.parentNode.replaceChild(nfi,fi)}